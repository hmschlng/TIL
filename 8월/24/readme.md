# 2023. 08. 22 

|ë¶„ë¥˜|âœï¸ í•  ì¼|ğŸ’­ ì„¤ëª…|âœ… ì™„ë£Œ |
|-|-|-|-|
| Algo | Programmers - ê¸°ì§€êµ­ ì„¤ì¹˜ | `Lv3` / `ê·¸ë¦¬ë””` |<ul><li>- [x] </li></ul>|
| Algo | Programmers - ë„¤íŠ¸ì›Œí¬ | `Lv3` / `BFS` |<ul><li>- [x] </li></ul>|
| Algo | Programmers - ìµœê³ ì˜ ì§‘í•© | `Lv3` / `ë¹„ë‘˜ê¸°ì§‘` |<ul><li>- [x] </li></ul>|
| SQL | Programmers - ìˆì—ˆëŠ”ë°ìš” ì—†ì—ˆìŠµë‹ˆë‹¤ | `Lv3` / `JOIN` | <ul><li>- [x] </li></ul> |
| CS | User Entityì™€ UserDetails ì±…ì„ ë¶„ë¦¬ ë°©ì‹ í…ŒìŠ¤íŠ¸ | ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì±…ì„ ë¶„ë¦¬ ì„¤ê³„ê°€ ì˜¤ë²„í—¤ë“œë¥¼ ìœ ë°œí•˜ëŠ” ì§€ ì²´í¬ | <ul><li>- [x] </li></ul> |

## ì¸ì¦ ğŸ“¸

### Programmers Lv3. ê¸°ì§€êµ­ ì„¤ì¹˜
<details close>
  <summary> ì½”ë“œ ë³´ê¸° </summary>
  <img src="https://i.imgur.com/w7kYKD6.jpg">
  <p>
    ì´ë¯¸ ì„¤ì¹˜ëœ ê¸°ì§€êµ­ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ì§€ì—­ë“¤ë§ˆë‹¤, ê·¸ ê¸¸ì´ë¥¼ w*2 + 1ë§Œí¼ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ë‚˜ë¨¸ì§€ê°€ ìˆìœ¼ë©´ +1 ì„ í•˜ëŠ” ì‹ìœ¼ë¡œ í•„ìš”í•œ ê¸°ì§€êµ­ì˜ ìµœì†Œ ê°œìˆ˜ë¥¼ êµ¬í–ˆë‹¤.
  </p>
</details>
<br/>

### Programmers Lv3. ë„¤íŠ¸ì›Œí¬
<details close>
  <summary> ì½”ë“œ ë³´ê¸° </summary>
  <img src="https://i.imgur.com/BTmrB63.jpg">
  <p>
    ëª¨ë“  vertexë“¤ì„ ìˆœíšŒí•˜ë©° bfs ì§„í–‰, ì´ë¯¸ íƒìƒ‰í•œ vertexëŠ” ê±´ë„ˆë›°ëŠ” ë°©ì‹ìœ¼ë¡œ ì—°ê²°ëœ ê·¸ë˜í”„ë“¤ì˜ ê°œìˆ˜ë¥¼ êµ¬í–ˆë‹¤.
  </p>
</details>
<br/>

### Programmers Lv3. ìµœê³ ì˜ ì§‘í•©
<details close>
  <summary> ì½”ë“œ ë³´ê¸° </summary>
  <img src="https://i.imgur.com/epVhQAC.jpg">
  <p>
    nê°œì˜ ìˆ˜ê°€ ìµœëŒ€í•œ ê· ë“±í•˜ê²Œ ë¶„ë°°ë  ìˆ˜ë¡ ê²°ê³¼ê°’ì´ ì»¤ì§„ë‹¤ëŠ” ê·œì¹™ ë°œê²¬, ê· ë“±í•˜ê²Œ ë¶„ë°°í–ˆë‹¤.
  </p>
</details>
<br/>

### (SQL) Programmers Lv3. ìˆì—ˆëŠ”ë°ìš” ì—†ì—ˆìŠµë‹ˆë‹¤
<details close>
  <summary> ì½”ë“œ ë³´ê¸° </summary>
  <img src="https://i.imgur.com/FbAkm2R.jpg">
  <p>
    inner joinì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„
  </p>
</details>
<br/>

### User Entityì™€ UserDetails ì±…ì„ ë¶„ë¦¬ ë°©ì‹ í…ŒìŠ¤íŠ¸
<details open>
  <summary> ë‚´ìš© ë³´ê¸° </summary>
  <blockquote>
  <p>

`SRPë¥¼ ì ìš©í•œ User Entityì™€ UserDetails ì„¤ê³„ ê´€ë ¨ ì¶”ê°€ ê³µë¶€`

- UserDetailsì—ì„œ ì œê³µí•˜ëŠ” ì‚¬ìš©ì ê³„ì • ê´€ë ¨ ìƒíƒœ(isAccountNonExpired, isAccountNonLocked, isCredentialsNonExpired, isEnabled)ë¥¼ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•œë‹¤ë©´ User ì—”í‹°í‹°ì— ìƒíƒœê°’ë“¤ì„ ì¶”ê°€í•´ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. 


`User ì—”í‹°í‹° ì •ì˜`

``` java

@Getter
@NoArgsConstructor
@Builder(toBuilder = true)
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id", nullable = false)
    private Long id;

    @Column(nullable = false)
    private String username;

    @Column(nullable = false)
    private String password;

    ...

    @Column(nullable = false)
    private Boolean isAccountNonExpired;

    @Column(nullable = false)
    private Boolean isAccountNonLocked;

    @Column(nullable = false)
    private Boolean isCredentialsNonExpired;

    @Column(nullable = false)
    private Boolean isEnabled;

}
```

`UserDetails êµ¬í˜„ì²´ ì •ì˜`

```java

public class CustomUserDetails implements UserDetails {

    private User user;

    public CustomUserDetails(User user) { this.user = user; }

    @Override
    public Collection<? extends GrantedAuthority> getAuthorities() { return Collections.emptyList(); }

    @Override
    public String getPassword() { return user.getPassword(); }

    @Override
    public String getUsername() { return user.getUsername(); }

    @Override
    public boolean isAccountNonExpired() { return user.isAccountNonExpired; }

    @Override
    public boolean isAccountNonLocked() { return user.isAccountNonLocked; }

    @Override
    public boolean isCredentialsNonExpired() { return user.isCredentialsNonExpired; }

    @Override
    public boolean isEnabled() { return user.isEnabled; }
}
```

`UserDetailsServiceë¥¼ í™•ì¥í•˜ëŠ” UserDetailsManager êµ¬í˜„ì²´ ì •ì˜`

```java

@RequiredArgsConstructor
@Service
public class CustomUserDetailService implements UserDetailsManager {

    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    @Override
    public UserDetails loadUserByUsername(String id) throws UsernameNotFoundException  { ... }

    @Override
    public void createUser(UserDetails user)  { ... }

    @Override
    public void updateUser(UserDetails user) { ... }

    @Override
    public void deleteUser(String id) { ... }

    @Override
    @Transactional
    public void changePassword(String oldPassword, String newPassword) { ... }

    @Override
    public boolean userExists(String username) { ... }

}
```

<br/>
</p>
  </blockquote>
</details>